<div class="registration-container">
  <mat-card class="registration-card">
    <mat-card-header>
      <mat-card-title>User Registration</mat-card-title>
      <mat-card-subtitle>Create a new account</mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="registration-form">
        <mat-form-field appearance="outline">
          <mat-label>Username</mat-label>
          <input matInput formControlName="username" required>
          <mat-error *ngIf="registrationForm.get('username')?.hasError('required')">Username is required</mat-error>
          <mat-error *ngIf="registrationForm.get('username')?.hasError('minlength')">Username must be at least 3 characters</mat-error>
          <mat-error *ngIf="registrationForm.get('username')?.hasError('maxlength')">Username cannot exceed 50 characters</mat-error>
          <mat-error *ngIf="registrationForm.get('username')?.hasError('pattern')">Username can only contain letters, numbers, dots, underscores, and hyphens</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="password" required>
          <mat-error *ngIf="registrationForm.get('password')?.hasError('required')">Password is required</mat-error>
          <mat-error *ngIf="registrationForm.get('password')?.hasError('minlength')">Password must be at least 8 characters</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Confirm Password</mat-label>
          <input matInput type="password" formControlName="confirmPassword" required>
          <mat-error *ngIf="registrationForm.get('confirmPassword')?.hasError('required')">Please confirm your password</mat-error>
          <mat-error *ngIf="registrationForm.get('confirmPassword')?.hasError('passwordMismatch')">Passwords do not match</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>First Name</mat-label>
          <input matInput formControlName="firstname" required>
          <mat-error *ngIf="registrationForm.get('firstname')?.hasError('required')">First name is required</mat-error>
          <mat-error *ngIf="registrationForm.get('firstname')?.hasError('pattern')">First name can only contain letters and hyphens</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastname" required>
          <mat-error *ngIf="registrationForm.get('lastname')?.hasError('required')">Last name is required</mat-error>
          <mat-error *ngIf="registrationForm.get('lastname')?.hasError('pattern')">Last name can only contain letters and hyphens</mat-error>
        </mat-form-field>

        <div *ngIf="error" class="error-message">
          {{ error }}
        </div>

        <div class="form-actions">
          <button 
            mat-raised-button 
            color="primary" 
            type="submit" 
            [disabled]="registrationForm.invalid || loading"
          >
            <mat-spinner *ngIf="loading" diameter="20" class="button-spinner"></mat-spinner>
            <span *ngIf="!loading">Register</span>
          </button>
          
          <button 
            mat-button 
            type="button" 
            (click)="goToLogin()"
            [disabled]="loading"
          >
            Back to Login
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div> 